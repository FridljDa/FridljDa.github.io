# Repository Instructions for Cursor

## Project Overview
This is a personal website built with Astro, featuring a Langflow integration for AI chat functionality.

## Tech Stack
- **Framework**: Astro 5.x
- **Styling**: Tailwind CSS
- **Content**: MDX with math support (KaTeX via remark-math and rehype-katex)
- **Testing**: Playwright
- **AI Integration**: Langflow (Docker Compose)

## Project Structure
- `src/components/` - Astro components (Biography, Experience, BlogPostCard, etc.)
- `src/pages/` - Astro pages and routes
- `src/data/` - TypeScript data files (site config, publications, experience)
- `src/content/blog/` - Blog posts as MDX files
- `src/layouts/` - Layout components
- `src/styles/` - Global CSS
- `public/` - Static assets (images, uploads)
- `content/` - Content collections (authors, publications)
- `dynamic/langflow-workspace/` - Langflow Docker setup
- `tests/` - Playwright test files

## Code Style & Conventions
- Use TypeScript for data files and type safety
- Astro components use `.astro` extension with frontmatter
- Use Tailwind utility classes for styling
- Follow Astro's component-based architecture
- Blog posts are in MDX format with frontmatter metadata

## Local Development

### Setup
- The dev server runs on `http://localhost:4321`
- Langflow runs on `http://localhost:7860` (requires Docker Compose)
- Tests require the dev server to be running first

### Development Workflow
- Update data files in `src/data/` for site-wide changes
- Add blog posts to `src/content/blog/` with proper frontmatter
- Test changes with `npm test` (ensure dev server is running)
- Use Astro's component pattern for reusable UI elements
- Maintain consistency with existing Tailwind styling patterns

### Running Locally
1. Start Astro dev server: `npm run dev`
2. Start Langflow (optional): `cd dynamic/langflow-workspace && docker compose up -d`
3. Run tests: `npm test` (requires dev server running)

## Production

### Deployment
- Production is deployed on Render (see `render.yaml`)
- Astro site is deployed as a static site
- Langflow is deployed as a Docker web service
- Postgres database is provisioned for Langflow

### Production Debugging
- **Use Render MCP tools** to debug production issues
- Check service logs, metrics, and deployment status via Render MCP
- Query Postgres database using Render MCP tools if needed
- Monitor service health and performance through Render dashboard/MCP

### Important Production Notes
- Blog posts use content collections - add new posts to `src/content/blog/`
- Publications and experience data are in `src/data/` TypeScript files
- The site uses KaTeX for math rendering in markdown/MDX
- Environment variables (PUBLIC_LANGFLOW_URL, PUBLIC_LANGFLOW_FLOW_ID) must be set in Render dashboard

